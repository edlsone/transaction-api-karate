[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/vx5846dgdj.execute-api.us-east-1.amazonaws.com\/dev'","result":{"duration":34417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:37:35.577 karate.env system property was: null \n","line":4}},{"name":"header Content-Type = 'application\/json'","result":{"duration":22312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"header Accept = 'application\/json'","result":{"duration":14905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6}]},{"start_timestamp":"2025-05-20T20:37:35.576Z","line":8,"name":"Validate each transaction object in response","description":"","id":"validate-each-transaction-object-in-response","type":"scenario","keyword":"Scenario","steps":[{"name":"path 'transactions'","result":{"duration":13063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":184508314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"16:37:35.578 request:\n1 > GET https:\/\/vx5846dgdj.execute-api.us-east-1.amazonaws.com\/dev\/transactions\n1 > Content-Type: application\/json\n1 > Accept: application\/json\n1 > Host: vx5846dgdj.execute-api.us-east-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/23.0.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n16:37:35.761 response time in milliseconds: 183\n1 < 200\n1 < Date: Tue, 20 May 2025 20:37:35 GMT\n1 < Content-Type: application\/json\n1 < Content-Length: 2\n1 < Connection: keep-alive\n1 < Apigw-Requestid: K4kyihaIoAMEY6w=\n[]\n\n","line":10}},{"name":"status 200","result":{"duration":9617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11},{"name":"def response = response","result":{"duration":195267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"result":{"duration":693852,"status":"passed"},"comments":["# Define the timestamp validation function"],"line":16,"name":"def isValidTimestamp =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"function(ts) {\n  return \/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\\\.\\\\d{3})?Z$\/.test(ts);\n}","line":16}},{"result":{"duration":10744224,"status":"passed"},"comments":["# Validate each item in the response array"],"line":24,"name":"def validateEach =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"function(response) {\n  var isValidTimestamp = function(ts) {\n    return \/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\\\.\\\\d{3})?Z$\/.test(ts);\n  };\n  response.forEach(function(t) {\n    var keys = ['amount', 'currency', 'id', 'name', 'title', 'timestamp'];\n    keys.forEach(function(k) {\n      if (!t.hasOwnProperty(k)) karate.fail('Missing key: ' + k);\n    });\n    if (typeof t.amount !== 'number' || t.amount < 0) {\n      karate.fail('Invalid amount: ' + t.amount);\n    }\n    if (!isValidTimestamp(t.timestamp)) {\n      karate.fail('Invalid timestamp: ' + t.timestamp);\n    }\n       \n  });\n}","line":24}},{"name":"eval validateEach(response)","result":{"duration":5072807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50}],"tags":[]}],"name":"tests\/transactions\/03-get-all-transactions.feature","description":"Validate all transaction objects from GET \/transactions","id":"validate-all-transaction-objects-from-get--transactions","keyword":"Feature","uri":"tests\/transactions\/03-get-all-transactions.feature"}]